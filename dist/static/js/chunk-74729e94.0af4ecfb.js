(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74729e94"],{"07ab":function(t,e,a){"use strict";a("2daf")},"2daf":function(t,e,a){},4572:function(t,e,a){"use strict";a("7fcc")},"6dc5":function(t,e,a){"use strict";a.d(e,"g",(function(){return l})),a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return i})),a.d(e,"d",(function(){return r})),a.d(e,"e",(function(){return s})),a.d(e,"c",(function(){return c})),a.d(e,"f",(function(){return u})),a.d(e,"j",(function(){return d})),a.d(e,"i",(function(){return f})),a.d(e,"h",(function(){return m}));var n=a("b775");function l(t){return Object(n["a"])({url:"/battery/infoPageList",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/battery/downloadInfoList",responseType:"blob",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/battery/downloadExcel",responseType:"blob",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/battery/baseInfo",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/battery/invoiceDetail/infoPageList",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/battery/invoiceDetail/downloadInfoList",responseType:"blob",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/battery/invoiceDetail/invoiceList",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/battery/updateBaseInfo",method:"post",data:t})}function f(t){return Object(n["a"])({url:"/battery/history/queryInfo",method:"post",data:t})}function m(t){return Object(n["a"])({url:"/battery/history/getBaseDifInfo",method:"post",data:t})}},"718f":function(t,e,a){"use strict";a("76b7")},"76b7":function(t,e,a){},"7fcc":function(t,e,a){},ce8d:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:t.list,height:t.height,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","tooltip-effect":"dark",size:"mini","cell-style":{"text-align":"right"},"header-cell-style":{"text-align":"center"},"header-row-class-name":"table-title",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"baasAssetNumber","show-overflow-tooltip":"","min-width":"130",label:"Bass电池编码"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"g-t-hidden"},[t._v(t._s(e.row.baasAssetNumber||"-"))])]}}])}),a("el-table-column",{attrs:{prop:"month","show-overflow-tooltip":"","min-width":"100",label:"月份"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"g-t-hidden"},[t._v(t._s(e.row.month||"-"))])]}}])}),a("el-table-column",{attrs:{prop:"depreciationAmount","show-overflow-tooltip":"","min-width":"100",label:"折旧额"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"g-t-hidden"},[t._v(t._s(e.row.depreciationAmount||"-"))])]}}])}),a("el-table-column",{attrs:{prop:"sixPercentServiceFeeIncome","min-width":"100",label:"6%服务费收入"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"g-t-hidden"},[t._v(t._s(e.row.sixPercentServiceFeeIncome||"-"))])]}}])}),a("el-table-column",{attrs:{prop:"twelvePercentRentalIncome","min-width":"100",label:"13%租金收入"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"g-t-hidden"},[t._v(t._s(e.row.twelvePercentRentalIncome||"-"))])]}}])}),a("el-table-column",{attrs:{prop:"rental","min-width":"100",label:"租金"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.rental||"-")+" ")]}}])})],1)],1)},l=[],o={props:["list","loading"],mounted:function(){var t=this;this.$nextTick((function(){t.height=window.innerHeight-t.$refs.table.$el.offsetTop-182,window.onresize=function(){t.height=window.innerHeight-t.$refs.table.$el.offsetTop-182}}))},methods:{handleVerify:function(t){this.show=!0,this.form={id:t.id||"",remark:""}},handleOk:function(){}},watch:{},data:function(){return{show:!1,showMore:!0,height:800,form:{id:"",remark:""}}}},i=o,r=(a("718f"),a("2877")),s=Object(r["a"])(i,n,l,!1,null,"2001ccdc",null);e["a"]=s.exports},e6c7:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail column"},[a("el-tabs",{staticClass:"m-t-30 flex-1 detail-content",attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"基础信息"}},[a("el-row",[a("el-button",{staticClass:"right-button",attrs:{type:"primary"},on:{click:function(e){return t.update()}}},[t._v("修改 ")])],1),a("div",{staticClass:"card-items"},t._l(t.baseList,(function(e,n){return a("div",{key:n,staticClass:"card-item"},[a("span",[t._v(t._s(e.name)+"： ")]),a("span",[t._v(t._s(e.value||"-"))])])})),0)],1),a("el-tab-pane",{attrs:{label:"变更记录"}}),a("el-tab-pane",{attrs:{label:"折旧记录"}},[a("invoice-table",{staticClass:"m-b-20",attrs:{list:t.list}})],1),a("el-tab-pane",{attrs:{label:"操作记录"}},[a("info-history-table",{staticClass:"m-b-20",attrs:{list:t.list2}})],1)],1),a("el-dialog",{attrs:{title:t.title,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"nio资产编码","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.nioNumber,callback:function(e){t.$set(t.form,"nioNumber",e)},expression:"form.nioNumber"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"电池规格","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.capacity,callback:function(e){t.$set(t.form,"capacity",e)},expression:"form.capacity"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"国际编码","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.gbNumber,callback:function(e){t.$set(t.form,"gbNumber",e)},expression:"form.gbNumber"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"车辆vin码","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.vinNumber,callback:function(e){t.$set(t.form,"vinNumber",e)},expression:"form.vinNumber"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Baas","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.isBaas,callback:function(e){t.$set(t.form,"isBaas",e)},expression:"form.isBaas"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"租用订单编号","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.baasNumber,callback:function(e){t.$set(t.form,"baasNumber",e)},expression:"form.baasNumber"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"电池归属","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.ascription,callback:function(e){t.$set(t.form,"ascription",e)},expression:"form.ascription"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"资产类型","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.assetType,callback:function(e){t.$set(t.form,"assetType",e)},expression:"form.assetType"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"资产租用状态","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.assetRentStatus,callback:function(e){t.$set(t.form,"assetRentStatus",e)},expression:"form.assetRentStatus"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"首次上线日期","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.firstOnlineTime,callback:function(e){t.$set(t.form,"firstOnlineTime",e)},expression:"form.firstOnlineTime"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"交付日期","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.deliveryDate,callback:function(e){t.$set(t.form,"deliveryDate",e)},expression:"form.deliveryDate"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"服务状态","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"价格（含税合计）","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"不含税价格","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.excludingTaxPrice,callback:function(e){t.$set(t.form,"excludingTaxPrice",e)},expression:"form.excludingTaxPrice"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"税额","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.tax,callback:function(e){t.$set(t.form,"tax",e)},expression:"form.tax"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"供应商","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.provider,callback:function(e){t.$set(t.form,"provider",e)},expression:"form.provider"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.user,callback:function(e){t.$set(t.form,"user",e)},expression:"form.user"}})],1)],1),a("el-col",{attrs:{span:12}},[t._e()],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancle}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)],1)},l=[],o=a("5530"),i=(a("d81d"),a("b64b"),a("6dc5")),r=(a("ed08"),a("ce8d")),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:t.list,height:t.height,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","tooltip-effect":"dark",size:"mini","cell-style":{"text-align":"right"},"header-cell-style":{"text-align":"center"},"header-row-class-name":"table-title",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"baasAssetNumber","show-overflow-tooltip":"","min-width":"130",label:"Bass电池编码"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"g-t-hidden"},[t._v(t._s(e.row.baasAssetNumber||"-"))])]}}])}),a("el-table-column",{attrs:{prop:"nioNumber","show-overflow-tooltip":"","min-width":"100",label:"nio编码"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"g-t-hidden"},[t._v(t._s(e.row.nioNumber||"-"))])]}}])}),a("el-table-column",{attrs:{prop:"baasNumber","show-overflow-tooltip":"","min-width":"100",label:"租用订单编号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"g-t-hidden"},[t._v(t._s(e.row.baasNumber||"-"))])]}}])}),a("el-table-column",{attrs:{prop:"createdTime","min-width":"100",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"g-t-hidden"},[t._v(t._s(e.row.createdTime||"-"))])]}}])}),a("el-table-column",{attrs:{prop:"updatedTime","min-width":"100",label:"修改时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"g-t-hidden"},[t._v(t._s(e.row.updatedTime||"-"))])]}}])}),a("el-table-column",{attrs:{label:"编辑",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row)}}},[t._v("查看修改记录")])]}}])})],1)],1)},c=[],u={props:["list","loading"],mounted:function(){var t=this;this.$nextTick((function(){t.height=window.innerHeight-t.$refs.table.$el.offsetTop-182,window.onresize=function(){t.height=window.innerHeight-t.$refs.table.$el.offsetTop-182}}))},methods:{handleVerify:function(t){this.show=!0,this.form={id:t.id||"",remark:""}},handleClick:function(t){Object(i["h"])(t).then((function(t){"200"==t.code&&console.log(t.data.difBaseInfo)}))}},watch:{},data:function(){return{show:!1,showMore:!0,height:800,form:{id:"",remark:""}}}},d=u,f=(a("4572"),a("2877")),m=Object(f["a"])(d,s,c,!1,null,"3797b9f4",null),b=m.exports,p={name:"detail",data:function(){return{id:"",title:"",form:{},formLabelWidth:"160px",dialogFormVisible:!1,list:[],list2:[],transform:[],baseList:[],baseList2:{},relateList:[]}},created:function(){this.id=this.$route.query.id||"",this.getData(),this.getInvoiceData(),this.queryInfoHistory()},methods:{getData:function(){var t=this;Object(i["d"])({baas_asset_number:this.id}).then((function(e){t.baseList=t.handleInfo(e.data.batteryBaseInfoList||{}),t.baseList2=e.data.batteryBaseInfoList2||{}}))},getInvoiceData:function(){var t=this;Object(i["f"])({baasAssetNumber:this.id}).then((function(e){t.list=e.data.invoice_list||[]}))},queryInfoHistory:function(){var t=this;Object(i["i"])({baasAssetNumber:this.id}).then((function(e){t.list2=e.data.baas_info_history_List||[]}))},update:function(){this.title="修改",this.form=this.baseList2,console.log(this.form),this.dialogFormVisible=!0},save:function(){var t=this;this.transform=this.form,Object(i["j"])(Object(o["a"])({},this.transform)).then((function(e){"200"==e.code?t.$message({message:"修改成功",type:"success"}):t.$message({message:"修改失败",type:"error"}),t.cancle(),t.getData(),t.queryInfoHistory()}))},cancle:function(){this.dialogFormVisible=!1},handleInfo:function(t){var e=[];return e=Object.keys(t).map((function(e){return{name:e,value:t[e]}})),e}},components:{InvoiceTable:r["a"],InfoHistoryTable:b}},h=p,w=(a("07ab"),Object(f["a"])(h,n,l,!1,null,"9c64104c",null));e["default"]=w.exports},ed08:function(t,e,a){"use strict";a.d(e,"b",(function(){return l})),a.d(e,"a",(function(){return o}));var n=a("53ca");a("ac1f"),a("5319"),a("4d63"),a("25f0"),a("d3b7"),a("4d90"),a("1276"),a("159b"),a("3ca3"),a("ddb0"),a("2b3d");function l(t,e){if(0===arguments.length||!t)return null;var a,l=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(n["a"])(t)?a=t:("string"===typeof t&&(t=/^[0-9]+$/.test(t)?parseInt(t):t.replace(new RegExp(/-/gm),"/")),"number"===typeof t&&10===t.toString().length&&(t*=1e3),a=new Date(t));var o={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},i=l.replace(/{([ymdhisa])+}/g,(function(t,e){var a=o[e];return"a"===e?["日","一","二","三","四","五","六"][a]:a.toString().padStart(2,"0")}));return i}function o(t,e){var a=document.createElement("a");if(a.href=window.URL.createObjectURL(t),a.download=e,a.click(),window.URL.revokeObjectURL(a.href),navigator.userAgent.indexOf("Firefox")>-1){var n=document.createElement("a");n.addEventListener("click",(function(){n.download=e,n.href=URL.createObjectURL(t)}));var l=document.createEvent("MouseEvents");l.initEvent("click",!1,!1),n.dispatchEvent(l)}}}}]);